From 43b7a7ba0043739ae13ade79bea94c6f32dca3bb Mon Sep 17 00:00:00 2001
From: Bryan Quigley <bryan.quigley@canonical.com>
Date: Fri, 17 Nov 2017 23:31:46 -0500
Subject: [PATCH] Remove upstart support
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: 8bit

Removes upstart conf file and notes about using it
---
 README.txt         |  6 +-----
 data/Makefile.am   |  6 +-----
 data/thermald.conf | 22 ----------------------
 3 files changed, 2 insertions(+), 32 deletions(-)
 delete mode 100644 data/thermald.conf

diff --git a/README.txt b/README.txt
index fabf5ab..dccf49a 100644
--- a/README.txt
+++ b/README.txt
@@ -64,12 +64,8 @@ Build
 	make
 	sudo make install
 (It will give error for systemd configuration, but ignore)
-cp data/thermald.conf /etc/init/
-3.
-If using upstart
-	Use "sudo start thermald" to start
-	Use "sudo stop thermald" to stop
 
+3.
 If using systemd, use
 - start service
 	sudo systemctl start thermald.service
diff --git a/data/Makefile.am b/data/Makefile.am
index c441664..d18b09e 100644
--- a/data/Makefile.am
+++ b/data/Makefile.am
@@ -28,14 +28,10 @@ tdconfigdir = $(tdconfdir)
 tdconfig_DATA = thermal-conf.xml \
 	thermal-cpu-cdev-order.xml
 
-upstartconfdir = /etc/init
-upstartconf_DATA = thermald.conf
-
 EXTRA_DIST = \
 	thermald.service.in \
 	org.freedesktop.thermald.service.in \
 	$(dbusservice_DATA) \
-	$(tdconfig_DATA) \
-	$(upstartconf_DATA)
+	$(tdconfig_DATA)
 
 CLEANFILES = thermald.service org.freedesktop.thermald.service
diff --git a/data/thermald.conf b/data/thermald.conf
deleted file mode 100644
index 39a646a..0000000
--- a/data/thermald.conf
+++ /dev/null
@@ -1,22 +0,0 @@
-# thermald - thermal daemon
-# Upstart configuration file
-# Manages platform thermals
-
-description	"thermal daemon"
-
-start on runlevel [2345] and started dbus
-stop on stopping dbus
-
-#
-# don't respawn on error
-#
-normal exit 1
-
-respawn
-
-#
-# consider something wrong if respawned 10 times in 1 minute
-#
-respawn limit 10 60
-
-exec thermald --no-daemon --dbus-enable
-- 
2.14.1

